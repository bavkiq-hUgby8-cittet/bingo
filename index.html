<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé∞ Bingo dos Veloso - Operador</title>
    <link rel="stylesheet" href="css/operador.css">
    <link rel="stylesheet" href="css/animacoes.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <!-- ALERTAS NO TOPO -->
    <div class="alertas-topo" id="alertasTopo">
        <h3>üîî ALGU√âM GRITOU BINGO!</h3>
        <div class="alertas-topo-lista" id="alertasTopoLista"></div>
    </div>
    
    <!-- OVERLAY DE ANIMA√á√ÉO -->
    <div class="animacao-overlay" id="animacaoOverlay">
        <div class="particulas" id="particulas"></div>
        
        <!-- Fase 1: S√≥ a Letra -->
        <div class="fase-letra" id="faseLetra">
            <div class="letra-gigante" id="letraGigante">B</div>
            <div class="texto-suspense">Qual ser√° o n√∫mero...?</div>
            <div class="interrogacoes"></div>
        </div>
        
        <!-- Fase 2: N√∫mero com Explos√£o -->
        <div class="fase-numero" id="faseNumero">
            <div class="bola-numero-grande" id="bolaNumeroGrande">
                <span class="letra" id="bolaLetra">B</span>
                <span class="numero" id="bolaNumero">12</span>
            </div>
            <div class="texto-numero-sorteado">üé± N√öMERO SORTEADO!</div>
        </div>
    </div>
    
    <header class="header">
        <h1 class="logo">üé∞ BINGO DOS VELOSO üé∞</h1>
        <div class="header-buttons">
            <button class="btn btn-reset" onclick="resetarTudo()">üîÑ RESET TOTAL</button>
        </div>
    </header>
    
    <div class="container">
        <!-- TELA INICIAL -->
        <div class="tela-inicial" id="telaInicial">
            <div class="card">
                <h2 class="card-title"><span>üé™</span>CRIAR NOVA SALA</h2>
                <div class="form-group">
                    <label>üè∑Ô∏è Nome da Sala</label>
                    <input type="text" id="nomeSala" placeholder='ex: "Bingo de Natal 2024"'>
                </div>
                <div class="form-group">
                    <label>üéÅ Foto do Pr√™mio (opcional)</label>
                    <div class="premio-upload" onclick="document.getElementById('inputPremio').click()">
                        <div id="premioPreview">
                            <div class="premio-icon">üéÅ</div>
                            <p>Clique para adicionar</p>
                        </div>
                    </div>
                    <input type="file" id="inputPremio" style="display:none" accept="image/*" onchange="handlePremio(event)">
                </div>
                <div class="form-group">
                    <label>üìã Cartelas por Jogador</label>
                    <div class="slider-container">
                        <input type="range" id="qtdCartelas" min="1" max="5" value="2" oninput="document.getElementById('sliderValue').textContent=this.value">
                        <span class="slider-value" id="sliderValue">2</span>
                    </div>
                </div>
                <button class="btn-primary" onclick="criarSala()">üé∞ CRIAR SALA</button>
            </div>
            <div class="card">
                <h2 class="card-title"><span>üéØ</span>SALAS ATIVAS</h2>
                <div class="salas-lista" id="salasLista">
                    <div class="empty-state">
                        <div class="empty-state-icon">üé±</div>
                        <p>Nenhuma sala ativa</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- TELA DO JOGO -->
        <div class="tela-jogo" id="telaJogo">
            <div class="jogo-header">
                <h1 class="jogo-titulo" id="jogoTitulo">üé∞ BINGO üé∞</h1>
                <div class="premio-destaque" id="premioDestaque" style="display:none">
                    <span class="premio-texto">üéÅ PR√äMIO:</span>
                    <img class="premio-img-grande" id="premioImgJogo" src="" alt="Pr√™mio">
                </div>
                <button class="btn-voltar" onclick="voltarInicio()">‚Üê Voltar</button>
            </div>
            
            <!-- GANHADORES -->
            <div class="ganhadores-section" id="ganhadoresSection" style="display:none">
                <h3 class="ganhadores-title">üèÜ GANHADORES</h3>
                <div class="ganhadores-lista" id="ganhadoresLista"></div>
            </div>
            
            <!-- GLOBO -->
            <div class="globo-section">
                <div class="globo-container" id="globoContainer">
                    <div class="globo-cage" id="globoCage">
                        <div class="globo-interior" id="globoInterior"></div>
                        <div class="globo-vidro"></div>
                    </div>
                    <div class="tubo-saida">
                        <div class="bola-saindo" id="bolaSaindo">
                            <span class="letra"></span>
                            <span class="numero"></span>
                        </div>
                    </div>
                    <div class="globo-suporte"></div>
                    <div class="globo-base"></div>
                </div>
                
                <div class="controles-section">
                    <button class="btn-sortear" id="btnSortear" onclick="iniciarSorteio()">üé≤ GIRAR GLOBO</button>
                    <button class="btn-ultimo" id="btnUltimo" onclick="mostrarUltimoNumero()" disabled>üîÑ VER √öLTIMO</button>
                </div>
            </div>
            
            <div class="reacoes-container" id="reacoesContainer"></div>
            
            <div class="numeros-sorteados-section">
                <h3 class="section-title">üìä N√öMEROS SORTEADOS</h3>
                <div class="numeros-grid-container" id="gradeNumeros"></div>
                <p class="contador-sorteados">Sorteados: <span id="contadorSorteados">0</span>/75</p>
            </div>
        </div>
    </div>
    
    <!-- MODAL REGRAS -->
    <div class="modal" id="regrasModal">
        <div class="modal-content">
            <h2 class="regras-title">üìú REGRAS DO JOGO</h2>
            <div class="regras-lista">
                <div class="regra-item">
                    <div class="regra-icon">üëÄ</div>
                    <div class="regra-titulo">ATEN√á√ÉO!</div>
                    <div class="regra-desc">Procure o n√∫mero na cartela!</div>
                </div>
                <div class="regra-item">
                    <div class="regra-icon">‚ûñ</div>
                    <div class="regra-titulo">LINHA</div>
                    <div class="regra-desc">Complete uma linha</div>
                </div>
                <div class="regra-item">
                    <div class="regra-icon">|</div>
                    <div class="regra-titulo">COLUNA</div>
                    <div class="regra-desc">Complete uma coluna</div>
                </div>
                <div class="regra-item">
                    <div class="regra-icon">‚ÜóÔ∏è</div>
                    <div class="regra-titulo">DIAGONAL</div>
                    <div class="regra-desc">Complete uma diagonal</div>
                </div>
                <div class="regra-item">
                    <div class="regra-icon">‚úñÔ∏è</div>
                    <div class="regra-titulo">CRUZADA</div>
                    <div class="regra-desc">Duas diagonais (X)</div>
                </div>
                <div class="regra-item">
                    <div class="regra-icon">üèÜ</div>
                    <div class="regra-titulo">CARTELA CHEIA</div>
                    <div class="regra-desc">SUPER PR√äMIO!</div>
                </div>
            </div>
            <p style="margin-bottom:15px;color:rgba(255,255,255,.7);text-align:center">üéØ Jogo continua at√© CARTELA CHEIA!</p>
            <p style="margin-bottom:25px;color:rgba(255,255,255,.7);text-align:center">‚ö†Ô∏è N√∫meros N√ÉO aparecem no celular - jogadores devem prestar aten√ß√£o!</p>
            <button class="btn-iniciar-jogo" onclick="confirmarInicioJogo()">üéÆ INICIAR JOGO!</button>
        </div>
    </div>
    
    <!-- MODAL JOGADORES -->
    <div class="modal" id="modalJogadores">
        <div class="modal-content">
            <button class="modal-close" onclick="fecharModal('modalJogadores')">√ó</button>
            <h2 class="card-title"><span>üë•</span>Jogadores</h2>
            <div id="jogadoresLista"></div>
            <p style="margin-top:25px;color:rgba(255,255,255,.6)" id="totalJogadores"></p>
        </div>
    </div>
    
    <!-- MODAL VERIFICA√á√ÉO -->
    <div class="modal" id="modalVerificacao">
        <div class="modal-content" style="max-width:800px">
            <button class="modal-close" onclick="fecharModal('modalVerificacao')">√ó</button>
            <h2 class="card-title"><span>üîç</span>Verificando BINGO</h2>
            <p id="verificacaoNome" style="font-size:1.3rem;margin-bottom:20px"></p>
            <div class="verificacao-cartela" id="verificacaoCartela"></div>
            <div class="resultado-verificacao" id="resultadoVerificacao"></div>
            <div class="modal-buttons" id="verificacaoButtons"></div>
        </div>
    </div>
    
    <!-- TELA VIT√ìRIA -->
    <div class="tela-vitoria" id="telaVitoria">
        <div class="vencedor-container">
            <div class="vencedor-trofeu">üèÜ</div>
            <h1 class="vencedor-titulo">SUPER CAMPE√ÉO!</h1>
            <p style="font-size:1.5rem;color:var(--cyan);margin-bottom:20px">CARTELA CHEIA!</p>
            <img class="vencedor-foto" id="vencedorFoto" src="" alt="">
            <h2 class="vencedor-nome" id="vencedorNome"></h2>
            <div class="premio-vencedor" id="premioVencedor" style="display:none">
                <span>üéÅ</span>
                <img id="premioVencedorImg" src="" alt="">
                <span>PARAB√âNS!</span>
            </div>
            <button class="btn-novo-jogo" onclick="novoJogo()">üé∞ NOVO JOGO</button>
        </div>
    </div>
    
    <!-- TOAST -->
    <div class="toast" id="toast"></div>
    
    <!-- LOADING -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div class="loading-text">Carregando...</div>
    </div>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="js/animacoes.js"></script>
    <script src="js/operador.js"></script>
</body>
</html>
